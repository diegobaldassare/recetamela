<div class="row first-section">
  <div class="col-md-6">
    <div class="form-group">
      <label for="name">Nombre*</label>
      <input [(ngModel)]="container.recipe.name" id="name" class="form-control">
    </div>

    <div class="form-group">
      <label for="description">Descripción*</label>
      <textarea style="resize: vertical" [(ngModel)]="container.recipe.description" id="description" class="form-control" rows="3"></textarea>
    </div>
  </div>
  <div class="col-md-6">
    <div class="form-group">
      <label for="servings">🍽 Porciones</label>
      <input style="margin-left: 10px; width: 40px;" type="number" id="servings" [(ngModel)]="container.recipe.servings">
    </div>

    <div class="form-group">
      <label for="duration">⏰ Duración</label>
      <input style="margin-left: 10px; width: 50px" type="number" id="duration" [(ngModel)]="container.recipe.duration"> minutos
    </div>

    <div class="form-group">
      <label>🏋🏻 Dificultad*</label>
      <br>
      <label class="radio-inline">
        <input [(ngModel)]="container.recipe.difficulty" value="1" type="radio" name="dificultad"> muy fácil
      </label>
      <label class="radio-inline">
        <input [(ngModel)]="container.recipe.difficulty" value="2" type="radio" name="dificultad"> fácil
      </label>
      <label class="radio-inline">
        <input [(ngModel)]="container.recipe.difficulty" value="3" type="radio" name="dificultad"> intermedio
      </label>
      <label class="radio-inline">
        <input [(ngModel)]="container.recipe.difficulty" value="4" type="radio" name="dificultad"> dificil
      </label>
      <label class="radio-inline">
        <input [(ngModel)]="container.recipe.difficulty" value="5" type="radio" name="dificultad"> muy dificil
      </label>
    </div>
    <div style="margin-bottom: 13px">
      <label for="category">Categorias*</label>
      <br>
      <span class="label label-default" *ngFor="let c of container.selectedCategories | keys">
        {{ c }}
        <span class="label-button" (click)="deselectCategory(c)">x</span>
      </span>
    </div>
    <div class="form-group">
      <input id="category" class="form-control" placeholder="Presione enter luego de cada categoria" list="categoryList" [(ngModel)]="categoryName" (keyup.enter)="selectCategory()">
      <datalist id="categoryList">
        <option *ngFor="let c of container.categories | keys" [value]="c"></option>
      </datalist>
    </div>
  </div>
</div>

<div class="row second-section">
  <div class="col-md-6">
    <div style="margin-bottom: 13px">
      <label for="ingredient">🍞 Ingredientes*</label>
      <br>
      <ul>
        <li style="margin-top: 10px" *ngFor="let f of container.selectedIngredients | keys">
          <span style="margin-right: 10px">{{ formatter.capitalizeFirstChar(container.selectedIngredients[f].ingredient.name) }}</span>
          <input placeholder="Cantidad" type="number" size="10" [(ngModel)]="container.selectedIngredients[f].quantity">
          <input placeholder="Unidad" size="10" [(ngModel)]="container.selectedIngredients[f].unit">
          <button class="btn btn-danger delete" (click)="deselectIngredient(container.selectedIngredients[f].ingredient.name)">x</button>
        </li>
      </ul>
    </div>
    <div class="form-group">
      <input id="ingredient" class="form-control" placeholder="Presione enter luego de cada ingrediente" list="ingredients" [(ngModel)]="ingredientName" (keyup.enter)="selectIngredient()">
      <datalist id="ingredients">
        <option *ngFor="let i of container.ingredients | keys" [value]="i"></option>
      </datalist>
    </div>
  </div>
  <div class="col-md-6"></div>
</div>

<div class="row third-section">
  <div class="col-md-12">
    <label for="step">✅  Pasos*</label>
    <input style="display: none" (change)="addStepImage($event)" type="file" id="step-image" accept="image/*">
    <ol *ngIf="container.recipe.steps.length > 0">
      <li style="margin-bottom: 40px" *ngFor="let step of container.recipe.steps; let i = index">
        <div class="row" *ngIf="step.image">
          <div class="col col-md-8"><p>{{ step.description }}</p></div>
          <div class="col col-md-4"><img class="img-responsive thumbnail" [src]="step.image.url"></div>
        </div>
        <div class="row" *ngIf="!step.image">
          <div class="col col-md-12"><p>{{ step.description }}</p></div>
        </div>
        <div style="float:right">
          <button class="btn btn-primary btn-xs" (click)="selectStepImage(i)" [disabled]="uploadingImage">
            {{ stepImageButtonText }}
          </button>
          <button *ngIf="step.image" class="btn btn-danger btn-xs" (click)="container.recipe.steps[i].image = null" [disabled]="uploadingImage">Eliminar imágen</button>
          <button class="btn btn-danger btn-xs" (click)="container.recipe.steps.splice(i, 1)">Eliminar paso</button>
        </div>
      </li>
    </ol>
    <br>
    <div class="form-group">
      <input id="step" class="form-control" placeholder="Presione enter luego de cada paso" [(ngModel)]="stepDescription" (keyup.enter)="addStep()">
    </div>
  </div>
</div>

<div class="row multimedia-section">
  <div class="col col-md-6">
    <div class="form-group">
      <label>📷 Imágenes*</label><br>
      <div *ngIf="container.recipe.images.length > 0" style="margin-bottom: 20px" id="general-images" class="carousel slide" data-ride="carousel" data-interval="">
        <ol class="carousel-indicators">
          <li *ngFor="let image of container.recipe.images; let i = index; let active = last" data-target="#general-images" [attr.data-slide-to]="i" [ngClass]="{ active: active }"></li>
        </ol>

        <div class="carousel-inner" role="listbox">
          <div *ngFor="let image of container.recipe.images; let i = index; let active = last" class="item" [ngClass]="{ active: active }">
            <img style="width: 100%" [src]="image.url">
          </div>
        </div>

        <a class="left carousel-control" href="#general-images" role="button" data-slide="prev">
          <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#general-images" role="button" data-slide="next">
          <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
      <input style="display: none" (change)="addImage($event)" type="file" id="image" accept="image/*">
      <button class="btn btn-primary btn-sm" onclick="document.getElementById('image').click()" [disabled]="disabledImageButton">{{ imageButtonText }}</button>
      <button *ngIf="container.recipe.images.length != 0" class="btn btn-danger btn-sm" (click)="removeImage()">Eliminar</button>
    </div>
  </div>
  <div class="col-md-6">
    <div class="form-group">
      <label for="videoUrl">🎥 Video de YouTube</label>
      <img class="img-responsive thumbnail" style="margin-bottom: 20px" *ngIf="validVideoUrl" [src]="videoThumbnailUrl">
      <input [(ngModel)]="container.recipe.videoUrl" id="videoUrl" class="form-control">
    </div>
  </div>
</div>
<br>
<button style="margin-right: 10px" class="btn btn-primary" (click)="submit()" [disabled]="disabledSubmit">{{ submitButtonText }}</button>
*campo obligatorio
